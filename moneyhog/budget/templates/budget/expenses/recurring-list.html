{% extends "budget/expenses/expense.html" %}
{% load static %}

{% block page_title %}Repeating Bills{% endblock page_title %}

{% block extra_styles %}
<link rel="stylesheet" type="text/css" href="{% static 'budget/rec-list.css' %}">
{% endblock extra_styles %}

{% block rec-activ %}active imp{% endblock %}

<div class="table-responsive flex flex-col">

<!-- Page title and optional button-->
{% block h1 %}Repeating Bills{% endblock h1 %}
{% block link-url %}{% url 'budget:create_repeat_bill' %}{% endblock %}
{% block btn-label %}Create Bill{% endblock %}

{% block content %}

    {% if recurring_expenses %}
    
    <span class="title-sm">Repeating bills will automatically be added to your spending history each month.</span>

    <table class="table mt-3">
      <thead class="thead-light">
        <tr>
          <th scope="col" class="title-sm">Day of the Month</th>
          <th scope="col" class="title-sm">Amount</th>
          <th scope="col" class="title-sm">Category</th>
          <th scope="col" class="title-sm">Description</th>
        </tr>
      </thead>
      <tbody>        
        {% for expense in recurring_expenses %}

        <tr class="click btn-link" id="{{ expense.id }}">
          <td >{{ expense.day }}</td>
          <td >${{ expense.amount }}</td>
          <td >{{ expense.category }}</td>
          <td>{{ expense.description }}</td>

        </tr>

        {% endfor %}

      </tbody>
    </table>
    {% else %}
    <p class="mb-3">You don't have any monthly bills right now. Select "Add Bill" to create some!</p>
    <h3 class="imp title-sm"><i class="fas fa-question-circle"></i> What is a monthly bill?</h3>
    <p class="">Monthly bills are any bills that you are charged the same amount for every month - rent, car payments, and insurance are great examples of monthly bills. When you create a monthly bill, we will go ahead and automatically log this bill in your spending activity every month on the day you choose.</p>
    {% endif %}
    
    
  </div>

{% endblock content%}

{% block my_scripts %}

<!-- Declare global template variables -->
<script type="text/javascript">
</script>

<!-- Makes each table row a URL -->
<script src="../../../static/budget/scripts/clickRecurringRowToRedirect.js"></script>



{% endblock %}
