{% extends "budget/expenses/expense.html" %}
{% load static %}

{% block page_title %}Repeating Bills{% endblock page_title %}

{% block extra_styles %}
<link rel="stylesheet" type="text/css" href="{% static 'budget/rec-list.css' %}">
{% endblock extra_styles %}

{% block rec-activ %}active imp{% endblock %}

{% block content %}
    
  <div class="table-responsive flex flex-col">

    {% if messages %}
      {% for message in messages %}
        {% if message.tags == "error" %}
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
        {% else %}
        <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
        {% endif %}
        {{ message }}
          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
      {% endfor %}
    {% endif %}

    {% if recurring_expenses %}
    
    <!-- <h2 class="imp page-title mb-3">Monthly Bills</h2> -->
    <span class="title-sm mb-3">Repeating bills will automatically be added to your spending history each month.</span>
    <!-- <span class="mb-3">Select a bill to edit or delete it.</span> -->

    <table class="table mb-5">
      <thead class="thead-light">
        <tr>
          <th scope="col" class="title-sm">Day of the Month</th>
          <th scope="col" class="title-sm">Amount</th>
          <th scope="col" class="title-sm">Category</th>
          <th scope="col" class="title-sm">Description</th>
        </tr>
      </thead>
      <tbody>        
        {% for expense in recurring_expenses %}

        <tr class="click btn-link" id="{{ expense.id }}">
          <td >{{ expense.day }}</td>
          <td >${{ expense.amount }}</td>
          <td >{{ expense.category }}</td>
          <td>{{ expense.description }}</td>

        </tr>

        {% endfor %}

      </tbody>
    </table>
    {% else %}
    <p class="mb-3">You don't have any monthly bills right now. Select "New" to create some!</p>
    <h3 class="imp title-sm"><i class="fas fa-question-circle"></i> What is a monthly bill?</h3>
    <p class="">Monthly bills are any bills that you are charged the same amount for every month - rent, car payments, and insurance are great examples of monthly bills. When you create a monthly bill, we will go ahead and automatically log this bill in your spending activity every month on the day you choose.</p>
    {% endif %}
    
    
  </div>

{% endblock content%}

{% block my_scripts %}

<!-- Declare global template variables -->
<script type="text/javascript">
</script>

<!-- Makes each table row a URL -->
<script src="../../../static/budget/scripts/clickRecurringRowToRedirect.js"></script>



{% endblock %}
